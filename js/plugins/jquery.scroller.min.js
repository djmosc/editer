$.fn.scroller=function(e){function l(t,o){var f=$(".scroll-item[data-id="+t+"]",n),l=f.index(),c=r.index(),h=f.outerWidth(!0);u=a||t!==r.data("id");if(u&&!$(".scroll-item",n).is(":animated")&&!$(".scroll-items-container",n).is(":animated")){u=!1;var p=0;if(e.scrollAll){c<l?p=h*(l-c):p=-h*(c-l);if(!a){$(".description",r).fadeOut();$(".description",f).fadeIn();if(c<l)$(".scroll-items-container:not(:animated)",n).animate({left:-p},i,s,function(){var e=l-1,t=$(".scroll-item:lt("+e+")",n);$(".scroll-item:last",n).after(t);$(".scroll-items-container",n).css({left:"0px"});t.hide().fadeIn();r=f;u=!1});else{$(".scroll-item:first",n).before($(".scroll-item:last",n));$(".scroll-items-container",n).css({left:-h+"px"});$(".scroll-items-container:not(:animated)",n).animate({left:0},i,s,function(){r=f;u=!1})}}else{$(".description",f).fadeIn();$(".scroll-item:first",n).before($(".scroll-item:last",n));$(".scroll-items-container",n).css({left:-h+"px"});$(".scroll-items-container:not(:animated)",n).css({left:0});r=f;u=!1}}else{c<l?p=h:p=-h;if(o)switch(o){case"next":p=h;break;case"prev":p=-h}if(!a){r.animate({left:-p},i,s,function(){$(this).removeClass("current")});f.css({left:p}).addClass("current").animate({left:0},i,s,function(){r=f;u=!1})}else{f.addClass("current");r=f;u=!1}}$(".scroller-pagination li",n).removeClass("current");$(".scroller-pagination li a[data-id="+f.data("id")+"]",n).parent().addClass("current");n.animate({height:f.outerHeight()});n.trigger("onChange",[f])}}function c(){if(o){var e=r.next();e.length===0&&(e=$(".scroll-item:eq(0)",n));l(e.data("id"),"next")}}function h(){if(f>1){$(".scroller-pagination a",n).on("click",function(){l($(this).data("id"))});$(".prev-btn",n).on("click",function(){var e=r.prev();if(e.length===0){var t=f-1;e=$(".scroll-item:eq("+t+")",n)}l(e.data("id"),"prev")});$(".next-btn",n).on("click",function(){var e=r.next();e.length===0&&(e=$(".scroll-item:eq(0)",n));l(e.data("id"),"next")});if(e.autoScroll){var t;n.hover(function(){o=!1},function(){o=!0});t=setInterval(c,4e3)}var i=r.data("id");l(i)}else{$(".scroller-navigation",n).hide();$(".scroller-pagination",n).hide()}$(window).load(function(){n.animate({height:r.outerHeight()})});a=!1}var t={autoScroll:!1,scrollAll:!1,easing:"easeInOutExpo"};e=$.extend({},t,e);var n=$(this),r=$(".scroll-item:eq(0)",n);$(".scroll-item",n).hasClass("current")&&(r=$(".scroll-item.current",n));var i=800,s=e.easing,o=!0,u=!0,a=!0,f=$(".scroll-item",n).size();h();return n};